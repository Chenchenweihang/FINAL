### 1. **游戏设置**

#### 功能说明：
- **背景设置**：故事背景发生在天道大陆，这里有繁华的天都城，商贸络绎不绝，百姓生活富裕，奇遇频出；有纷争不断、刀光剑影的墨影江湖，各种帮派盘根交错；有环境恶劣，荒郊野岭的龙愁绝涧，各种奇珍异宝，天地灵物藏于其间，奇特的灵兽生物也在其中生存；还有仙人遗迹“囚天林”，神秘圣地，封印着强大的仙人力量和秘宝。仙人遗迹的内部奇幻交加，有隐秘的山区、辽阔的深海以及迷雾重重的森林中，不同的景观却神奇的汇聚在一起，只有最强的冒险者或最具智慧的玩家才能发现并进入。各类场景相互交错，形成了复杂而又庞大的天道大陆的世界。

- **角色设置**：玩家在游戏开始时需要创建角色，设定角色名称、初始职业等。

- **职业选择**：提供多个基础职业（剑侠、武者、医士、刺客、道士五个职业），每个职业有不同的初始属性、技能树和战斗风格。职业设定不仅影响玩家的战斗方式，还会影响角色的成长路线和选择。


#### 角色说明：

### **1. 剑侠**

剑侠是典型的近战职业，强调快速的攻击与击退敌人。在技能效果上，剑侠的技能常常涉及高爆发的单体伤害，以及一定回合数内的状态变化。

#### **技能设计**

- **4级解锁：剑气斩**  
  *描述：使用剑气远程攻击敌人，造成一定范围的伤害。*  
  - **效果**：对单体目标造成物理伤害，并附带一定概率眩晕敌人，眩晕效果持续1回合。  
  - **冷却**：2回合  
  - **消耗**：30法力值

- **8级解锁：疾风步**  
  *描述：快速冲刺至敌人面前，增强下一次攻击的伤害并减少敌人防御。*  
  - **效果**：提高下一次攻击伤害50%，并削弱敌人20%的防御，持续2回合。  
  - **冷却**：3回合  
  - **消耗**：40法力值

- **12级解锁：剑舞斩**  
  *描述：使用剑气舞动，形成范围攻击，攻击敌人群体并有几率造成出血状态。*  
  - **效果**：对周围所有敌人造成物理伤害，并附带出血效果（每回合5%最大生命值的伤害，持续3回合）。  
  - **冷却**：4回合  
  - **消耗**：50法力值

---

### **2. 武者**

武者是高防御的近战职业，专注于承受伤害并反击。技能的持续效果通常与增强防御、击晕敌人、造成伤害等相关。

#### **技能设计**

- **4级解锁：巨力猛击**  
  *描述：以强力一击打击敌人，造成大范围的伤害并击晕敌人。*  
  - **效果**：对前方锥形区域内所有敌人造成物理伤害，并使敌人眩晕2回合。  
  - **冷却**：3回合  
  - **消耗**：35法力值

- **8级解锁：铁壁防御**  
  *描述：增强自身防御，减少所受伤害，持续一段时间。*  
  - **效果**：提高30%的物理与法术防御，持续3回合。  
  - **冷却**：4回合  
  - **消耗**：40法力值

- **12级解锁：怒气爆发**  
  *描述：在积累足够怒气后，发动一次全方位的震击攻击，造成巨大的伤害。*  
  - **效果**：释放怒气，造成大范围物理伤害，并使敌人攻击速度降低50%，持续2回合。  
  - **冷却**：5回合  
  - **消耗**：60法力值  

---

### **3. 刺客**

刺客是敏捷的单体伤害职业，专注于快速击杀和高爆发。其技能大多数涉及隐身、致命一击等。

#### **技能设计**

- **4级解锁：隐匿匕首**  
  *描述：使用匕首对敌人进行致命攻击，造成额外伤害并使敌人失去目标。*  
  - **效果**：对单个敌人进行标记，1个回合后造成大量物理伤害；并使敌人在两回合内对你的攻击有30%的概率被闪避。  
  - **冷却**：3回合  
  - **消耗**：30法力值

- **8级解锁：潜行**  
  *描述：进入潜行状态，隐匿自己的身形，减少敌人对你的发现概率。*  
  - **效果**：进入隐身状态，持续3回合，在结束隐身状态后提升自身30%的攻击力，并立即行动。隐身期间任何攻击（包括法宝的攻击）会解除隐身状态，目标对你进行攻击有50%概率被忽略。
  - **冷却**：4回合
  - **消耗**：40法力值

- **12级解锁：死亡之刃**  
  *描述：释放一把暗影匕首攻击敌人，造成高额伤害，并附带晕眩效果。*  
  - **效果**：对指定敌人造成高额物理伤害，并使敌人晕眩2回合。  
  - **冷却**：5回合  
  - **消耗**：50法力值

---

### **4. 道士**

道士是一个法术型职业，擅长召唤灵兽与使用符咒。其技能效果通常涉及控制、治疗与法术伤害。

#### **技能设计**

- **4级解锁：灵符引导**  
  *描述：召唤一道符文力量攻击敌人，造成法术伤害并有几率施加虚弱效果。*  
  - **效果**：对目标造成法术伤害，并有30%几率降低敌人攻击力20%，持续2回合。  
  - **冷却**：2回合  
  - **消耗**：30法力值

- **8级解锁：灵兽召唤**  
  *描述：召唤一只灵兽来协助战斗，灵兽会攻击敌人并为玩家提供增益。*  
  - **效果**：召唤灵兽来战斗，持续3回合，灵兽每次攻击会恢复玩家5%最大生命值。  
  - **冷却**：4回合  
  - **消耗**：40法力值

- **12级解锁：驱邪符**  
  *描述：驱散所有敌人的增益效果，并将其转化为伤害。*  
  - **效果**：对目标区域内所有敌人造成法术伤害，并驱散其增益效果（如加速、攻击力等）。  
  - **冷却**：5回合  
  - **消耗**：50法力值


###  此外，每个角色还有普通攻击，普通攻击的伤害与角色的攻击力成正比。随着等级的提升，角色的攻击力、防御力、法力值、生命值等基本属性也会提升。

### **等级与经验机制**

- 1级 -> 100经验
- 2级 -> 100经验
- 3级 -> 200经验
- 4级 -> 300经验
- 5级 -> 500经验
- 6级 -> 800经验
- 7级 -> 1300经验
- 8级 -> 2100经验
- 9级 -> 3400经验
- 10级 -> 5500经验
- 11级 -> 8900经验
- 12级 -> 14400经验
- 13级 -> 23300经验
- 14级 -> 37700经验
- 15级 -> 61000经验
- 16级 -> 98700经验
- 17级 -> 159700经验
- 18级 -> 258400经验
- 19级 -> 418100经验
- 20级 -> 676500经验 (满级)
---

### 2. **角色管理**

#### 功能说明：
- **角色信息**：玩家可以查看角色的基础信息，如：
  - **等级**：角色的当前等级。
  - **属性**：角色的生命值、攻击力、防御力、法力值等基础属性。
  - **经验**：当前经验值与下一级所需经验值。
  - **职业**：当前职业及职业技能。
  - **装备**：角色当前穿戴的装备与道具。

- **角色成长**：
  - 角色通过战斗、事件等方式获得经验，提升等级，解锁新技能，强化自身的属性。
  - **技能树**：每个职业有一条独特的技能树，技能树的解锁与角色的成长紧密相关。

---

### 3. **装备与道具系统**

#### 功能说明：
- **装备**：包括武器、护甲、饰品等。每件装备都会提升角色的某项属性（如攻击力、防御力、命中率等），部分装备有额外的属性加成（如特殊技能、属性加成等）。
  
  - **装备系统**：
    - **装备类型**：武器（剑、弓、法杖等）、防具（盔甲、戒指、护符等）、饰品（头饰、项链、耳环等）、法宝（魔杖、符文、神器等）。
    - **装备属性**：每件装备有基础属性（如攻击力、耐久度）。
    - **套装效果**：同时装备同属于一个套装的装备，会有额外的属性加成。一定品质的套装还可以有套装技能。
    - **装备丢弃**：玩家的背包容量有限，需要及时清理不再需要的装备。被丢弃装备永久消失，无法再次使用。
    - **装备穿戴**：玩家可以自由穿戴装备，角色的属性会随着装备的变化而变化。

#### 设计目标：
- **策略性**：玩家需要根据不同的战斗需求和敌人特性选择最适合的装备。
- **收集与强化**：装备与道具应具有多样性和可收集性，鼓励玩家探索、打怪、完成任务。
---

### 4. **战斗系统**

#### 功能说明：
- **战斗类型**：
  - **单人战斗**：玩家单独与敌人或怪物进行回合制战斗。玩家在每一回合中可以选择普通攻击、技能攻击、法宝攻击等、使用套装技能或逃跑等五个操作。
  
- **战斗策略**：
  - **技能与战术搭配**：每个职业的技能具有独特效果，玩家需要根据敌人的弱点和战斗环境选择合适的技能。
  - **敌人AI**：敌人会根据玩家的行为进行反应，具有基本的战斗策略，如攻击玩家最弱的点、使用特定技能等。(后期调用大模型进行设计，这里需要等后期设计，TODO)
  - **随机事件影响战斗**：战斗中的某些特殊事件（如天气、场景变化等）会影响战斗效果，例如，雷暴天气下，所有雷电技能伤害提高。

- **战斗结算**：战斗结束后，根据玩家的表现（胜利、失败、存活时间等）给予不同的奖励，如经验、装备、道具等。

---

### 5. **AI随机事件系统**

#### 功能说明：
- **事件触发**：在游戏世界中，随机事件会周期性或条件性地触发。事件的触发通常与玩家的行为（如探索新地区、完成任务、触发特定条件等）相关。
  - **事件类型**：
    - **战斗事件**：例如，玩家遇到一个敌对NPC或野兽，开始战斗。
    - **剧情事件**：例如，玩家遇到一个神秘的NPC，提供任务或改变剧情走向。
    - **环境事件**：例如，玩家在行进过程中遭遇到突如其来的自然灾害（如暴雨、雪崩、雷暴等）。

- **事件结果**：每个事件会有多个选择，玩家的决策将直接影响事件的走向。例如，选择与NPC战斗、帮助他们，或者选择忽视等，都会对后续剧情产生不同影响。
  - **正面影响**：获得经验、道具或特殊任务。
  - **负面影响**：角色受伤、失去装备、遭遇更多敌人等。

#### 设计目标：
- **动态性**：每个玩家的体验都应该是独一无二的，通过随机事件提升游戏的重玩价值。
- **决策性**：每个事件都需要玩家做出决策，增强游戏的沉浸感与策略性。

---

### 6. **探索与任务系统**

#### 功能说明：
- **探索世界**：
  - 游戏世界是开放的，玩家可以自由探索。探索过程中，玩家会遇到不同的任务、进行不同的战斗、经历不同的事件。
  - **地图设计**：不同区域有不同的环境、敌人和资源。通过逐步探索，玩家将逐渐揭开世界的秘密。

- **任务系统**：
  - **主线任务**：推动故事发展的主要任务，完成后可以解锁新区域、新技能或职业。
  - **支线任务**：为玩家提供额外的奖励，支线任务通常较为简单或富有挑战性，提供多样的玩法。
  - **动态任务**：有些任务根据玩家的行为和选择动态生成，提供不同的奖励与剧情走向。

#### 设计目标：
- **自由与探索**：玩家应能够在一个充满惊喜和挑战的世界中自由探索。
- **多样性与重复可玩性**：任务类型多样，既有战斗任务，也有随机事件，提升游戏的深度和可玩性。

### 7. **世界地图**

#### 世界地图已经设计好，设计如下：

#### **故事背景：**
- **背景设置**：故事背景发生在天道大陆，这里有繁华的天都城，商贸络绎不绝，百姓生活富裕，奇遇频出；有纷争不断、刀光剑影的墨影江湖，各种帮派盘根交错；有环境恶劣，荒郊野岭的龙愁绝涧，各种奇珍异宝，天地灵物藏于其间，奇特的灵兽生物也在其中生存；还有仙人遗迹“囚天林”，神秘圣地，封印着强大的仙人力量和秘宝。仙人遗迹的内部奇幻交加，有隐秘的山区、辽阔的深海以及迷雾重重的森林中，不同的景观却神奇的汇聚在一起，只有最强的冒险者或最具智慧的玩家才能发现并进入。各类场景相互交错，形成了复杂而又庞大的天道大陆的世界。

---

#### **一级地图**

   - **天都城**，一座繁华的城市，历经千年而不衰，是天道大陆最强大的城市。
   - **墨影江湖**，各个势力盘根交错，错综复杂，凶险绝伦，而机遇与危机并存。
   - **龙愁绝涧**，龙葬之地，上古时代统治大陆的龙的葬身之所，现已被各种灵兽所占据。
   - **囚天林**，仙人遗地，有广袤的茂林、辽阔的海林，充满异兽的山林，火焰焚烧的焚林，以及怪石嶙峋的石林，不同的景观却神奇的汇聚在一起，各个不同的林间有不同的仙人遗产。

#### **二级地图**

#### 1. **天都城**
   1.1 **安茂集会** 整个都城最繁华的区域，各种奇珍异宝都能在此交易。  
   1.2 **御龙殿**  天都城皇帝的宫殿，是天都城的象征，皇帝在此决定天下大事。  
   1.3 **锦绣坊**  天都城的烟柳画桥之地，是天都城的极乐之地，各类娱乐活动的场所。  
   1.4 **观星阁**  天都城最为神秘的地方，是天文、占星、数术、占卜、奇术、奇谋、奇迹等各类谋略活动的中心  
   1.5 **琉璃宫**  天都城的皇室所居住之地，听说里面的皇室正在针对天道大陆谋划神秘的大计。  

#### 2. **墨影江湖**
   2.1 **黑风寨**  黑风帮的据点，黑风帮是一个以抢掠普通百姓为生的帮派，这里有着黑风帮的各种秘密。  
   2.2 **雨落狂流之地**  整个墨影江湖的中心，据说每年都要在这里召开江湖大会。  
   2.3 **叹息康河**  凌河派的据点，凌河派内部错综复杂，有人劫掠百姓，有人盗窃财宝，也有人为其他帮派谋取利益，内部分裂不断。  
   2.4 **中庭黑市**  各个江湖门派帮派的交易市场，各类奇珍异宝的交易都可以在这里进行。  
   2.5 **风云山脉**  墨影江湖资源最为丰富的地点，各类奇珍异宝藏于其间，但也充满危险，各帮派在其中探索、寻找奇遇。

#### 3. **龙愁绝涧**
   3.1 **涧谷入口**  通往龙愁绝涧的必经之路，两侧峭壁如削，一条蜿蜒小径通向深处。入口处有一座巨大的石碑，上面刻着古老的龙族文字，诉说着这片土地的沧桑历史。  
   3.2 **迷雾沼泽**  沼泽中常年弥漫着浓雾，传说这里是龙族设下的迷阵，其中有大量的灵兽守护此地。   
   3.3 **葬神灵峰**  高耸入云，山巅之上有一座古老的祭坛，传闻是龙族祭祀龙神的地方。祭坛四周布满了神秘的符文，散发着令人敬畏的气息。  
   3.4 **藏龙洞天**  这里是龙族藏匿宝藏之地，洞内曲折幽深。传说洞内有一条通往龙族秘境的通道，只有真正的龙族后裔才能开启。  
   3.5 **涧龙神国**  一片被龙族视为圣地的区域，拥有着强大的龙族传承。在这里，龙族后裔可以感悟到先祖的力量，甚至有机会觉醒龙族血脉。

#### 4. **囚天林**
   4.1 **落日茂林**  这里是囚天林中最美丽的区域，每当夕阳西下，阳光透过树叶洒在地上，形成一片金色的海洋。林中生活着许多珍稀异兽，它们和谐共生，构成了一幅美丽的画卷。  
   4.2 **雨歌海林**  这片海域位于囚天林深处，海水清澈见底，海面上漂浮着各种奇异的植物。每当雨后，海面上会响起美妙的歌声，传说是海中的精灵在歌唱。  
   4.3 **万兽山林**  这里是囚天林中最为凶险的地方，群山环绕，猛兽横行。山中的异兽实力强大，许多探险者在此葬身兽口。然而，这里也蕴藏着无尽的宝藏，吸引着无数勇者前来挑战。  
   4.4 **血雨焚林**  这里是囚天林中最为神秘的地方，烈焰在此焚烧，火焰熊熊，形成了一片火林，在外看去像血雨倾盆，令人生畏。  
   4.5 **八荒石林**  这里是囚天林中最奇特的景观，无数石柱拔地而起，形成了一片石林。石林中隐藏着无数秘密，传说有一位仙人曾在此修炼，留下了珍贵的传承。探索石林，或许能找到改变命运的契机。  

---

#### **地图可视化设计如下：**
```python
import matplotlib.pyplot as plt
import networkx as nx

# 设置中文字体
plt.rcParams['font.sans-serif'] = ['SimHei']  # 黑体字体
plt.rcParams['axes.unicode_minus'] = False

# 创建无向图
G = nx.Graph()

# 按层次分组节点
group1 = ['锦绣坊', '御龙殿', '琉璃宫']
group2 = ['安茂集会', '观星阁']
group3 = ['黑风寨', '叹息康河']
group4 = ['风云山脉', '雨落狂流之地', '中庭黑市']
group5 = ['涧谷入口', '葬神灵峰', '落日茂林', '万兽山林', '雨歌海林']
group6 = ['迷雾沼泽', '藏龙洞天', '涧龙神国', '血雨焚林', '八荒石林']

nodes = group1 + group2 + group3 + group4 + group5 + group6
G.add_nodes_from(nodes)

# 指定节点位置
pos = {}
# 层次1: y=5
for i, node in enumerate(group1):
    pos[node] = (i + 1, 5)
# 层次2: y=4
for i, node in enumerate(group2):
    pos[node] = (i + 1, 4)
# 层次3: y=3
for i, node in enumerate(group3):
    pos[node] = (i + 1, 3)
# 层次4: y=2
for i, node in enumerate(group4):
    pos[node] = (i + 1, 2)
# 层次5: y=1
for i, node in enumerate(group5):
    pos[node] = (i + 1, 1)
# 层次6: y=0
for i, node in enumerate(group6):
    pos[node] = (i + 1, 0)

# 添加边
edges = [
    ('锦绣坊', '御龙殿'),
    ('御龙殿', '琉璃宫'),
    ('御龙殿', '观星阁'),
    ('琉璃宫', '观星阁'),
    ('锦绣坊', '安茂集会'),
    ('黑风寨', '安茂集会'),
    ('黑风寨', '雨落狂流之地'),
    ('叹息康河', '雨落狂流之地'),
    ('中庭黑市', '雨落狂流之地'),
    ('风云山脉', '雨落狂流之地'),
    ('风云山脉', '涧谷入口'),
    ('涧谷入口', '葬神灵峰'),
    ('涧谷入口', '迷雾沼泽'),
    ('葬神灵峰', '藏龙洞天'),
    ('迷雾沼泽', '藏龙洞天'),
    ('藏龙洞天', '涧龙神国'),
    ('涧龙神国', '落日茂林'),
    ('落日茂林', '雨歌海林'),
    ('雨歌海林', '八荒石林'),
    ('八荒石林', '血雨焚林'),
    ('血雨焚林', '万兽山林'),
    ('万兽山林', '落日茂林'),
    ('万兽山林', '八荒石林'),
    ('八荒石林', '血雨焚林')
]

G.add_edges_from(edges)

# 定义节点分组和对应颜色
node_groups = {
    '组1': ['锦绣坊', '御龙殿', '琉璃宫', '安茂集会', '观星阁'],
    '组2': ['黑风寨', '叹息康河', '雨落狂流之地', '中庭黑市', '风云山脉'],
    '组3': ['涧谷入口', '葬神灵峰', '迷雾沼泽', '藏龙洞天', '涧龙神国'],
    '组4': ['万兽山林', '血雨焚林', '落日茂林', '雨歌海林', '八荒石林']
}

group_colors = {
    '组1': 'lightblue',
    '组2': 'lightgreen',
    '组3': 'orange',
    '组4': 'pink'
}

# 生成节点颜色
colors = []
for node in G.nodes():
    for group, nodes in node_groups.items():
        if node in nodes:
            colors.append(group_colors[group])

# 绘制图形
plt.figure(figsize=(12, 8))  # 设置图形大小
nx.draw(G, pos, with_labels=True, node_shape='s', node_size=5000, font_size=14, edge_color='gray', node_color=colors)

# 添加标题
plt.title('天道大陆地图先览', fontsize=16)

# 显示图形
plt.show()

